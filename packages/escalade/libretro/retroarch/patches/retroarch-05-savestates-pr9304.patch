From 2cc84bb99e7e70506bf044233ed256e057249b67 Mon Sep 17 00:00:00 2001
From: rsn8887 <rsn8887@users.noreply.github.com>
Date: Tue, 13 Aug 2019 21:28:19 -0500
Subject: [PATCH] Allow auto save states also in cores that support no content

as long as some content is loaded
---
 retroarch.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/retroarch.c b/retroarch.c
index 3828c42571..8f88a5bf19 100644
--- a/retroarch.c
+++ b/retroarch.c
@@ -3214,8 +3214,6 @@ static bool command_event_init_core(enum rarch_core_type type)
 static bool command_event_save_auto_state(void)
 {
    bool ret                    = false;
-   bool contentless            = false;
-   bool is_inited              = false;
    char *savestate_name_auto   = NULL;
    size_t
       savestate_name_auto_size = PATH_MAX_LENGTH * sizeof(char);
@@ -3227,9 +3225,7 @@ static bool command_event_save_auto_state(void)
    if (current_core_type == CORE_TYPE_DUMMY)
       return false;
 
-   content_get_status(&contentless, &is_inited);
-
-   if (contentless)
+   if (string_is_empty(path_basename(path_get(RARCH_PATH_BASENAME))))
       return false;
 
 #ifdef HAVE_CHEEVOS
